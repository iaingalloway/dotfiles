{{- $activeSchemeName := .activeScheme.name -}}
{{- $activeScheme := index .colourSchemes $activeSchemeName -}}
{{- $directoryBackground := index $activeScheme $activeScheme.accentOne -}}
{{- $directoryForeground := index $activeScheme $activeScheme.accentOneForeground -}}
{{- $gitBackground := index $activeScheme $activeScheme.accentTwo -}}
{{- $gitForeground := index $activeScheme $activeScheme.accentTwoForeground -}}
{{- $gitError := index $activeScheme $activeScheme.accentTwoError -}}
{{- $gitSuccess := index $activeScheme $activeScheme.accentTwoSuccess -}}
{{- $kubernetesBackground := index $activeScheme $activeScheme.accentThree -}}
{{- $kubernetesForeground := index $activeScheme $activeScheme.accentThreeForeground -}}
{{- $hostBackground := index $activeScheme $activeScheme.accentFour -}}
{{- $hostForeground := index $activeScheme $activeScheme.accentFourForeground -}}
{{- $success := index $activeScheme $activeScheme.success -}}
{{- $error := index $activeScheme $activeScheme.error -}}

# ~/.config/starship.toml

'$schema' = 'https://starship.rs/config-schema.json'

add_newline = true

format = """\
[ÓÇ∂](fg:{{ $hostBackground }})\
$os\
$hostname\
[ÓÇ∞](bg:{{ $directoryBackground }} fg:{{ $hostBackground }})\
$directory\
[ÓÇ∞](bg:{{ $gitBackground }} fg:{{ $directoryBackground }})\
$git_branch\
$git_commit\
$git_state\
$git_metrics\
$git_status\
[ÓÇ∞](bg:{{ $kubernetesBackground }} fg:{{ $gitBackground }})\
$kubernetes\
[ÓÇ∞](fg:{{ $kubernetesBackground }})
$jobs\
$sudo\
$character"""

[character]
success_symbol = '[ÔÅî]({{ $success }})'
error_symbol = '[ÔÅî]({{ $error }})'

[directory]
format = '[ $path ]($style)'
home_symbol = 'Ôì¢'
style = 'bg:{{ $directoryBackground }} fg:{{ $directoryForeground }}'
truncate_to_repo = true
truncation_symbol = '‚Ä¶/'

[git_branch]
format = '[ $branch]($style)'
symbol = ''
style = 'bg:{{ $gitBackground }} fg:{{ $gitForeground }}'
truncation_length = 20
truncation_symbol = '‚Ä¶/'

[git_commit]
format = '[ $tag]($style)'
tag_symbol = ''
style = 'bg:{{ $gitBackground }} fg:{{ $gitForeground }}'
tag_disabled = false
commit_hash_length = 4

[git_metrics]
format = '[+$added]($added_style)/[-$deleted]($deleted_style) '
added_style = 'bold blue'

[git_state]
format = '[ $state($progress_current of $progress_total)]($style)'
style = 'bg:{{ $gitBackground }} fg:{{ $gitForeground }}'
cherry_pick = 'üçí'

[git_status]
format = '[( $up_to_date$conflicted$untracked$modified$renamed$deleted$stashed$ahead_behind$staged) ]($style)'
style = 'bg:{{ $gitBackground }} fg:{{ $gitForeground }}'
conflicted = '[üè≥](bg:{{ $gitBackground }} fg:{{ $gitError }})'
up_to_date = '[ÓÆ¥](bg:{{ $gitBackground }} fg:{{ $gitSuccess }})'
untracked = '[Ôî©](bg:{{ $gitBackground }} fg:{{ $gitError }})'
ahead = '[Ó™°${count}](bg:{{ $gitBackground }} fg:{{ $gitForeground }})'
diverged = '[Ó™°${ahead_count}Ó™ö${behind_count}](bg:{{ $gitBackground }} fg:{{ $gitForeground }})'
behind = '[Ó™ö${count}](bg:{{ $gitBackground }} fg:{{ $gitForeground }})'
stashed = '[Ôíá](bg:{{ $gitBackground }} fg:{{ $gitForeground }})'
modified = '[ÓÆ¥](bg:{{ $gitBackground }} fg:{{ $gitError }})'
staged = '[+$count](bg:{{ $gitBackground }} fg:{{ $gitForeground }})'
renamed = '[Ó´†](bg:{{ $gitBackground }} fg:{{ $gitError }})'
deleted = '[ÔÄî](bg:{{ $gitBackground }} fg:{{ $gitError }})'

[hostname]
format = '[$hostname ]($style)'
style = 'bg:{{ $hostBackground }} fg:{{ $hostForeground }}'

[jobs]
format = '[$symbol]($style)'
symbol = '|'
style = '{{ $kubernetesBackground }}'

[kubernetes]
disabled = false
format = '[ $symbol $context( \($namespace\)) ]($style)'
symbol = '‚éà'
style = 'bg:{{ $kubernetesBackground }} fg:{{ $kubernetesForeground }}'

[[kubernetes.contexts]]
context_pattern = 'gke.*_(?P<var_cluster>[\w-]+)'
context_alias = 'gke-$var_cluster'

[[kubernetes.contexts]]
context_pattern = 'kind-(?P<var_cluster>[\w-]+)'
context_alias = '$var_cluster'

[os]
disabled = false
format = '[$symbol ]($style)'
style = 'bg:{{ $hostBackground }} fg:{{ $hostForeground }}'

[os.symbols]
Ubuntu = 'Óú∫'
Windows = 'Óúè'
Debian = 'ÔåÜ'
